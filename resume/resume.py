# 爬取https://sc.chinaz.com/jianli/free.html上的简历import requestsfrom lxml import etreeif __name__ == '__main__':    url = 'https://sc.chinaz.com/jianli/free.html'    header = {        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36'    }    response = requests.get(url=url, headers=header)    # response.encoding = 'utf-8'    response.encoding = response.apparent_encoding    res_text = response.text    tree = etree.HTML(res_text)    # 求一个页面的总模板个数    sum_resume = tree.xpath('//*[@id="container"]/div')    num = len(sum_resume)    for i in range(1, num + 1):        # 分别获得每个模板的名字与url        resume_name = tree.xpath('//*[@id="container"]/div[' + str(i) + ']/p/a/text()')[0]        resume_url = tree.xpath('//*[@id="container"]/div[' + str(i) + ']/p/a/@href')[0]        # print(resume_name)        # print(resume_url)        # print(i)        url = resume_url        response = requests.get(url=url, headers=header)        # response.encoding = 'utf-8'        response.encoding = response.apparent_encoding        res_text = response.text        tree_download = etree.HTML(res_text)        # 下载文件的url        download_url = tree_download.xpath('//*[@id="down"]/div[2]/ul/li[1]/a/@href')[0]        print(download_url)        response_download = requests.get(url=download_url, headers=header).content        file_path = './result/' + str(resume_name) + '.rar'        with open(file_path, 'wb') as fp:            fp.write(response_download)            print(resume_name + '下载成功')