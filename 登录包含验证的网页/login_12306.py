# 登录12306，需要用到滑块以及解决浏览器识别from selenium import webdriverfrom selenium.webdriver import ChromeOptionsfrom selenium.webdriver.common.action_chains import ActionChainsfrom time import sleepif __name__ == '__main__':    url = 'https://kyfw.12306.cn/otn/resources/login.html'    # 去除浏览器识别    option = ChromeOptions()    option.add_experimental_option('excludeSwitches', ['enable-automation'])    option.add_experimental_option("detach", True)    driver = webdriver.Chrome(executable_path='../chromedriver', options=option)    driver.get(url)    # 解决特征识别    # 如果不采取去除特征识别，即以下两行代码。则页面的滑块验证码在滑动后，会显示如下图的出错，从而阻止登录进行。    # 因为服务器识别到的selenium的特征。使用该两行代码更改了特征，即可以顺利通过识别。    script = 'Object.defineProperty(navigator, "webdriver", {get: () => false,});'    driver.execute_script(script)    usernameText = driver.find_element(by='xpath', value='//*[@id="J-userName"]')    passwordText = driver.find_element(by='xpath', value='//*[@id="J-password"]')    loginBtn = driver.find_element(by='xpath', value='//*[@id="J-login"]')    usernameText.send_keys('15023119606')    passwordText.send_keys('z15023119606')    loginBtn.click()    sleep(1)    slider = driver.find_element(by='xpath', value='//*[@id="nc_1_n1z"]')    driver.execute_script('arguments[0].scrollIntoView();', slider)    actions = ActionChains(driver)  # 行为链实例化    sleep(2)  # 等待2秒钟    # 经截图测量，滑块需要滑过的距离为300像素    actions.click_and_hold(slider).move_by_offset(300, 0).perform()  # 滑动    input()    driver.quit()