# 验证码的登录import requestsfrom lxml import etreeimport ddddocrif __name__ == '__main__':    url = 'https://so.gushiwen.cn/user/login.aspx?from=http://so.gushiwen.cn/user/collect.aspx'    header = {        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36'    }    # 得使用session来保存cookie，不然每次请求都会使用不同的cookie    session = requests.Session()    response = session.get(url=url, headers=header)    res_text = response.text    # with open('gushi0.html', 'w', encoding='utf-8') as fp:    #     fp.write(res_text)    tree = etree.HTML(res_text)    img_url = 'https://so.gushiwen.cn' + tree.xpath('//*[@id="imgCode"]/@src')[0]    img_data = session.get(url=img_url, headers=header).content    with open('imgData.jpg', 'wb') as fp:        fp.write(img_data)    # code = input('验证码')    ocr = ddddocr.DdddOcr()    code = ocr.classification(img_data)    print('验证码为:' + code)    data = {        '__VIEWSTATE':'Q4kGffdG4/6C07KtLomuIA/StR4jk9qV2ls/BHxrksHAPQ9yjw3VKyTKbZNLdAazlnEpu3LUEzFw5mz0mwKBG4wOAfeOz0yatKRqKuiVRTJEEObu99FCoeCXa9jk60rQZ7EpWQVplkJ4auVmN14ifOHJge8=',        '__VIEWSTATEGENERATOR': 'C93BE1AE',        'from': 'http://so.gushiwen.cn/user/collect.aspx',        'email': '15023119606',        'pwd': 'z15023119606',        'code': code,        'denglu': '登录'    }    url = 'https://so.gushiwen.cn/user/login.aspx?from=http://so.gushiwen.cn/user/collect.aspx'    response_login = session.post(url=url, headers=header, data=data)    print(response_login.status_code)    res_text = response_login.text    with open('gushi.html', 'w', encoding='utf-8') as fp:        fp.write(res_text)        